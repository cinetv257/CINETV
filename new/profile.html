<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <title>CINETV - Mon Profil</title>
  <link rel="icon" href="logo.png" type="image/png">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  
  <link rel="stylesheet" href="style.css">
  
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-DRSJ4J6W6P"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-DRSJ4J6W6P');
  </script>
</head>
<body>

  <header class="navbar">
    <a href="home.html" class="logo">
      <img src="logo.png" alt="CINETV Logo">
      CINETV
    </a>
    
    <nav class="nav-links">
      <a href="home.html">Accueil</a>
      <a href="movies.html">Films</a>
      <a href="tvshow.html">Séries TV</a>
    </nav>

    <div class="nav-actions">
      <i class="fas fa-search" id="topSearch"></i>
      <a href="profile.html"><i class="fas fa-user-circle" id="auth-action-btn" title="Mon Profil"></i></a>
      <i class="fas fa-bars" id="openDrawer"></i>
    </div>
  </header>

  <main class="container">
    <div id="contentWrapper" style="padding-top: 20px;">
      
      <section class="profile-header">
        <div class="profile-avatar">
          <i class="fas fa-user"></i>
        </div>
        <h1 class="profile-username" id="profileUsername">Utilisateur CINETV</h1>
        <p class="profile-email" id="profileEmail">email@example.com</p>
        <button id="logoutBtn" class="btn btn-outline" style="margin-top: 15px; padding: 5px 15px; font-size: 0.9rem;">
            <i class="fas fa-sign-out-alt"></i> Déconnexion
        </button>
      </section>

      <nav class="profile-nav" id="profileTabs">
        <div class="profile-nav-item active" data-tab="favorites">Favoris</div>
        <div class="profile-nav-item" data-tab="myList">Ma Liste</div>
        <div class="profile-nav-item" data-tab="downloads">Téléchargements</div>
      </nav>

      <section class="profile-content">
        
        <div id="favorites" class="profile-content-section active">
          </div>

        <div id="myList" class="profile-content-section">
          </div>

        <div id="downloads" class="profile-content-section">
          <p id="noDownloadsMessage" style="color: var(--muted); padding: 20px; text-align: center; display: none;">Aucun élément trouvé dans vos téléchargements.</p>
        </div>
        
      </section>

    </div>
    
    <div id="loader" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: var(--bg); display: flex; justify-content: center; align-items: center; z-index: 101; display: none;">
        <i class="fas fa-spinner fa-spin fa-3x" style="color: var(--brand);"></i>
    </div>
  </main>

  <nav class="bottom-nav">
    <a href="home.html" class="nav-item">
      <i class="fas fa-home"></i>
      <span>Accueil</span>
    </a>
    <a href="movies.html" class="nav-item">
      <i class="fas fa-film"></i>
      <span>Films</span>
    </a>
    <a href="tvshow.html" class="nav-item">
      <i class="fas fa-tv"></i>
      <span>Séries</span>
    </a>
    <a href="#" class="nav-item" id="bottomSearch">
      <i class="fas fa-search"></i>
      <span>Recherche</span>
    </a>
    <a href="profile.html" class="nav-item active" id="bottomAuthAction">
      <i class="fas fa-user"></i>
      <span>Profil</span>
    </a>
  </nav>
  
  <div id="searchModal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:var(--panel); z-index:110; align-items:flex-start; justify-content:center; padding: 20px;">
    <div style="width:100%; max-width:800px;">
        <div style="display:flex; gap:10px; margin-bottom: 20px;">
            <input type="search" id="searchInput" placeholder="Rechercher des films ou séries..." style="flex-grow:1; padding:10px; border-radius:8px; border:none; background:var(--panel-2); color:var(--text);">
            <button id="closeSearch" class="btn btn-outline" style="padding: 10px 15px;">Fermer</button>
        </div>
        <div id="searchResults" style="display:flex; flex-wrap:wrap; gap: 15px;">
            </div>
    </div>
  </div>


  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>

  <script src="firebase-config.js"></script>

  <script src="app-common.js"></script>

  <script src="profile.js"></script>
</body>
</html>